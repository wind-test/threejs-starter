(this["webpackJsonpthree.js-starter"]=this["webpackJsonpthree.js-starter"]||[]).push([[0],{104:function(e,n,t){},105:function(e,n,t){},113:function(e,n,t){},115:function(e,n,t){"use strict";t.r(n);var i,o,a,d,r,l,c,s,u,v,w,h,m,p,f,b,g,x,j,y,E,O,C,S,P,M,F,k,A,R,L,T,z,N,_,q,H,U,W,X,D,I,B,K,Y,G,Z,J,V,Q,$,ee,ne,te,ie,oe,ae,de,re,le,ce,se,ue,ve,we,he,me,pe,fe,be,ge,xe,je,ye,Ee,Oe,Ce,Se,Pe,Me,Fe,ke,Ae,Re,Le,Te,ze,Ne,_e,qe,He,Ue,We,Xe,De,Ie,Be,Ke,Ye,Ge,Ze,Je,Ve,Qe,$e,en,nn,tn,on,an,dn,rn,ln,cn,sn,un,vn,wn,hn,mn,pn,fn,bn,gn=t(0),xn=t.n(gn),jn=t(33),yn=t.n(jn),En=(t(104),t(31)),On=(t(105),t(117)),Cn=t(120),Sn=t(118),Pn=t(9),Mn=Sn.a.Title,Fn=(Sn.a.Text,Sn.a.Paragraph,function(){return Object(Pn.jsx)("div",{style:{padding:"50px"},children:Object(Pn.jsxs)(Sn.a,{children:[Object(Pn.jsx)(Mn,{level:2,children:"\u4ec0\u4e48\u662fThree.js"}),Object(Pn.jsxs)("ul",{children:[Object(Pn.jsx)("li",{children:"Three.js\u662f\u57fa\u4e8e\u539f\u751fWebGL\u5c01\u88c5\u8fd0\u884c\u7684\u4e09\u7ef4\u5f15\u64ce\u3002"}),Object(Pn.jsx)("li",{children:"WebGL\u662f\u4e00\u79cdJavascript\u76843D\u56fe\u5f62\u63a5\u53e3\uff0c\u628aJavaScript\u548cOpenGL ES 2.0\u7ed3\u5408\u5728\u4e00\u8d77\u3002"}),Object(Pn.jsx)("li",{children:"Unity\u3001UnReal\u7b49\u662f\u5ba2\u6237\u7aef\u7684\u4e09\u7ef4\u5f15\u64ce; Three.js\u5219\u662f\u7f51\u9875\u7aef\u7684\u4e09\u7ef4\u5f15\u64ce\u3002"})]}),Object(Pn.jsx)(Mn,{level:2,children:"\u4e3a\u4ec0\u4e48\u8981\u4f7f\u7528Three.js"}),Object(Pn.jsxs)("ul",{children:[Object(Pn.jsx)("li",{children:"\u5229\u7528Three.JS\u53ef\u4ee5\u5236\u4f5c\u51fa\u5f88\u591a\u9177\u70ab\u76843D\u52a8\u753b\uff0c\u5e76\u4e14Three.js\u8fd8\u53ef\u4ee5\u901a\u8fc7\u9f20\u6807\u3001\u952e\u76d8\u3001\u62d6\u62fd\u7b49\u4e8b\u4ef6\u5f62\u6210\u4ea4\u4e92\uff0c\u5728\u9875\u9762\u4e0a\u589e\u52a0\u4e00\u4e9b3D\u52a8\u753b\u548c3D\u4ea4\u4e92\u53ef\u4ee5\u4ea7\u751f\u66f4\u597d\u7684\u7528\u6237\u4f53\u9a8c\u3002"}),Object(Pn.jsx)("li",{children:"\u901a\u8fc7Three.JS\u53ef\u4ee5\u5b9e\u73b0\u5168\u666f\u89c6\u56fe\uff0c\u8fd9\u4e9b\u5168\u666f\u89c6\u56fe\u5e94\u7528\u5728\u623f\u4ea7\u3001\u5bb6\u88c5\u884c\u4e1a\u80fd\u591f\u5e26\u6765\u66f4\u76f4\u89c2\u7684\u89c6\u89c9\u4f53\u9a8c\u3002\u5728\u7535\u5546\u884c\u4e1a\u5229\u7528Three.JS\u53ef\u4ee5\u5b9e\u73b0\u4ea7\u54c1\u76843D\u6548\u679c\uff0c\u8fd9\u6837\u7528\u6237\u5c31\u53ef\u4ee5360\u5ea6\u5168\u65b9\u4f4d\u5730\u89c2\u5bdf\u5546\u54c1\u4e86\uff0c\u7ed9\u7528\u6237\u5e26\u6765\u66f4\u597d\u7684\u8d2d\u7269\u4f53\u9a8c\u3002"}),Object(Pn.jsx)("li",{children:"\u4f7f\u7528Three.JS\u8fd8\u53ef\u4ee5\u5236\u4f5c\u7c7b\u4f3c\u5fae\u4fe1\u8df3\u4e00\u8df3\u90a3\u6837\u7684\u5c0f\u6e38\u620f\u3002\u968f\u7740\u6280\u672f\u7684\u53d1\u5c55\u3001\u57fa\u7840\u7f51\u7edc\u7684\u5efa\u8bbe\uff0cweb3D\u6280\u672f\u8fd8\u80fd\u5f97\u5230\u66f4\u5e7f\u6cdb\u7684\u5e94\u7528\u3002"})]})]})})}),kn=t(119),An=t(1),Rn=function(){var e=Object(gn.useRef)(null),n=Object(kn.a)(e);return Object(gn.useEffect)((function(){!function(){var n;i=new An.yb;var t=new An.i(100,100,100),a=new An.Z({color:255}),d=new An.X(t,a);i.add(d);var r=new An.pb(16777215);r.position.set(400,200,300),i.add(r);var l=new An.c(4473924);i.add(l),o=new An.Sb,null===(n=e.current)||void 0===n||n.appendChild(o.domElement)}()}),[]),Object(gn.useEffect)((function(){(null===n||void 0===n?void 0:n.width)&&(null===n||void 0===n?void 0:n.height)&&function(){var e=Number(null===n||void 0===n?void 0:n.width),t=Number(null===n||void 0===n?void 0:n.height),d=e/t,r=200;(a=new An.mb(-r*d,r*d,r,-r,1,1e3)).position.set(200,300,200),a.lookAt(i.position),o.setSize(e,t),o.setClearColor(12178431,1),o.render(i,a)}()}),[null===n||void 0===n?void 0:n.width,null===n||void 0===n?void 0:n.height]),Object(Pn.jsx)("div",{id:"container",style:{width:"100%",height:"100%"},ref:e})},Ln=function(){return Object(gn.useEffect)((function(){var e=document.getElementById("webgl"),n=e.getContext("webgl");n.viewport(0,0,e.width,e.height);var t=n.createShader(n.VERTEX_SHADER);n.shaderSource(t,"\n      attribute vec4 a_Position;\n      void main() {\n        gl_Position = a_Position;\n      }\n    "),n.compileShader(t);var i=n.createShader(n.FRAGMENT_SHADER);n.shaderSource(i,"\n      void main() {\n        gl_FragColor = vec4(1.0, 0, 0, 1.0); \n      }\n    "),n.compileShader(i);var o=n.createProgram();n.attachShader(o,t),n.attachShader(o,i),n.linkProgram(o),n.useProgram(o);var a=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,a);var d=new Float32Array([0,.5,-.5,-.5,.5,-.5]);n.bufferData(n.ARRAY_BUFFER,d,n.STATIC_DRAW);var r=n.getAttribLocation(o,"a_Position");n.vertexAttribPointer(r,2,n.FLOAT,!1,0,0),n.enableVertexAttribArray(r),n.drawArrays(n.TRIANGLES,0,3)}),[]),Object(Pn.jsx)("div",{style:{width:"100%",height:"100%"},children:Object(Pn.jsx)("canvas",{id:"webgl",style:{width:"100%",height:"100%"}})})},Tn=function(){return Object(gn.useEffect)((function(){var e=document.getElementById("webgl"),n=e.getContext("webgl");n.viewport(0,0,e.width,e.height);var t=n.createShader(n.VERTEX_SHADER);n.shaderSource(t,"\n      attribute vec4 a_Position;\n      uniform mat4 u_Mat;\n      varying vec4 v_Color;\n      void main() {\n        gl_Position = u_Mat * a_Position;\n        v_Color = gl_Position;\n      }\n    "),n.compileShader(t);var i=n.createShader(n.FRAGMENT_SHADER);n.shaderSource(i,"\n      precision mediump float;\n      varying vec4 v_Color;\n      void main() {\n        gl_FragColor = v_Color; \n      }\n    "),n.compileShader(i);var o=n.createProgram();n.attachShader(o,t),n.attachShader(o,i),n.linkProgram(o),n.useProgram(o);var a=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,a);var d=new Float32Array([0,.5,-.5,-.5,.5,-.5]);n.bufferData(n.ARRAY_BUFFER,d,n.STATIC_DRAW);var r=n.getAttribLocation(o,"a_Position");n.vertexAttribPointer(r,2,n.FLOAT,!1,0,0),n.enableVertexAttribArray(r);var l={x:1.5,y:1.5,z:1.5};!function e(){l.x<=-1.5?l.x=1.5:l.x-=.01;var t=new Float32Array([l.x,0,0,0,0,l.x,0,0,0,0,l.x,0,0,0,0,1]),i=n.getUniformLocation(o,"u_Mat");n.uniformMatrix4fv(i,!1,t),n.drawArrays(n.TRIANGLES,0,3),requestAnimationFrame(e)}()}),[]),Object(Pn.jsx)("div",{style:{width:"100%",height:"100%"},children:Object(Pn.jsx)("canvas",{id:"webgl",style:{width:"100%",height:"100%"}})})},zn=t(15),Nn=function(){var e=Object(gn.useRef)(null),n=Object(kn.a)(e);function t(){c.update(),r.render(d,l),requestAnimationFrame(t)}var i=function(){document.fullscreenElement?document.exitFullscreen():r.domElement.requestFullscreen()};return Object(gn.useEffect)((function(){return function(){var n;d=new An.yb;var i=new An.ob(1,1,64,64),o=new An.zb({vertexShader:"\n  void main(){\n    gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.0);\n  }\n",fragmentShader:"\n  void main(){\n    gl_FragColor = vec4(1.0, 1.0, 0.0, 1.0);\n  }\n"}),a=new An.X(i,o);d.add(a);var u=new An.pb(16777215);u.position.set(4,2,3),d.add(u);var v=new An.c(4473924);d.add(v),s=new An.e(5),d.add(s),(l=new An.nb(90,window.innerWidth/window.innerHeight,.1,1e3)).position.set(0,0,2),l.lookAt(d.position),(r=new An.Sb).setClearColor(12178431,1),r.render(d,l),null===(n=e.current)||void 0===n||n.appendChild(r.domElement),c=new zn.a(l,r.domElement),t()}(),window.addEventListener("dblclick",i),function(){window.removeEventListener("dblclick",i)}}),[]),Object(gn.useEffect)((function(){(null===n||void 0===n?void 0:n.width)&&(null===n||void 0===n?void 0:n.height)&&function(){var e=Number(null===n||void 0===n?void 0:n.width),t=Number(null===n||void 0===n?void 0:n.height);l.aspect=e/t,l.updateProjectionMatrix(),r.setSize(e,t),r.setPixelRatio(window.devicePixelRatio)}()}),[null===n||void 0===n?void 0:n.width,null===n||void 0===n?void 0:n.height]),Object(Pn.jsx)("div",{id:"container",style:{width:"100%",height:"100%"},ref:e})},_n=function(){var e=Object(gn.useRef)(null),n=Object(kn.a)(e),t=function(){document.fullscreenElement?document.exitFullscreen():v.domElement.requestFullscreen()};return Object(gn.useEffect)((function(){return function(){var n;u=new An.yb;var t=(new An.Kb).load("/textures/flag_paralympic.jpeg"),i=new An.ob(1,1,64,64),o=new An.vb({vertexShader:"\n  precision lowp float;\n  attribute vec3 position;\n  attribute vec2 uv;\n\n  uniform mat4 projectionMatrix;\n  uniform mat4 viewMatrix;\n  uniform mat4 modelMatrix;\n  uniform float uTime;\n  uniform sampler2D uTexture;\n\n  varying vec2 v_Uv;\n  varying float v_Elevation;\n\n  void main(){\n    v_Uv = uv;\n    vec4 modelPosition = modelMatrix * vec4(position, 1.0);\n    modelPosition.z = sin((modelPosition.x + uTime) * 10.0) * 0.05 ;\n    modelPosition.z += sin((modelPosition.y + uTime)  * 10.0) * 0.05 ;\n    v_Elevation = modelPosition.z;\n\n    gl_Position = projectionMatrix * viewMatrix * modelPosition ;\n  }\n",fragmentShader:"\n  precision lowp float;\n  varying vec2 v_Uv;\n  varying float v_Elevation;\n\n  uniform sampler2D uTexture; \n\n  void main(){\n      // \u4e0d\u4f7f\u7528\u6750\u8d28\uff0c\u5236\u4f5c\u6ce2\u6d6a\u6548\u679c\n      // gl_FragColor = vec4(v_Uv, 0.0, 1.0);\n      // float height = v_Elevation + 0.05 * 10.0;\n      // gl_FragColor = vec4(1.0 * height, 0.0, 0.0, 1.0);\n\n      // \u4f7f\u7528\u6750\u8d28\uff0c\u5236\u4f5c\u65d7\u5e1c\u98d8\u626c\u6548\u679c\n      float height = v_Elevation + 0.05 * 20.0;\n      vec4 textureColor = texture2D(uTexture, v_Uv);\n      textureColor.rgb *= height;\n      gl_FragColor = textureColor;\n  }\n",side:An.u,uniforms:{uTime:{value:0},uTexture:{value:t}}}),a=new An.X(i,o);u.add(a);var d=new An.pb(16777215);d.position.set(4,2,3),u.add(d);var r=new An.c(4473924);u.add(r);var l=new An.e(5);u.add(l),(w=new An.nb(90,window.innerWidth/window.innerHeight,.1,1e3)).position.set(0,0,2),w.lookAt(u.position),(v=new An.Sb).setClearColor(12178431,1),v.render(u,w),null===(n=e.current)||void 0===n||n.appendChild(v.domElement);var c=new zn.a(w,v.domElement),s=new An.m;!function e(){var n=s.getElapsedTime();o.uniforms.uTime.value=n,c.update(),v.render(u,w),requestAnimationFrame(e)}()}(),window.addEventListener("dblclick",t),function(){window.removeEventListener("dblclick",t)}}),[]),Object(gn.useEffect)((function(){(null===n||void 0===n?void 0:n.width)&&(null===n||void 0===n?void 0:n.height)&&function(){var e=Number(null===n||void 0===n?void 0:n.width),t=Number(null===n||void 0===n?void 0:n.height);w.aspect=e/t,w.updateProjectionMatrix(),v.setSize(e,t),v.setPixelRatio(window.devicePixelRatio)}()}),[null===n||void 0===n?void 0:n.width,null===n||void 0===n?void 0:n.height]),Object(Pn.jsx)("div",{id:"container",style:{width:"100%",height:"100%"},ref:e})},qn=t(29),Hn="\n  precision lowp float;\n  uniform float uTime;\n  uniform float uScale;\n  varying vec2 vUv; \n\n  void main(){\n    // \u901a\u8fc7\u9876\u70b9\u5bf9\u5e94\u7684uv\uff0c\u51b3\u5b9a\u6bcf\u4e00\u4e2a\u50cf\u7d20\u5728uv\u56fe\u50cf\u7684\u4f4d\u7f6e\uff0c\u901a\u8fc7\u8fd9\u4e2a\u4f4d\u7f6ex,y\u51b3\u5b9a\u989c\u8272\n    gl_FragColor = vec4(vUv,0,1) ;\n  }\n",Un=function(){var e=Object(gn.useRef)(null),n=Object(kn.a)(e),t=function(){document.fullscreenElement?document.exitFullscreen():m.domElement.requestFullscreen()};return Object(gn.useEffect)((function(){return function(){var n;h=new An.yb;var t=(new An.Kb).load("/textures/flag_paralympic.jpeg"),i=10,o=.1,a=new An.ob(1,1,64,64),d=new An.zb({vertexShader:"\n  varying vec2 vUv;\n  precision lowp float;\n\n  void main(){\n    vec4 modelPosition = modelMatrix * vec4( position, 1.0 );\n    vUv = uv;\n    gl_Position =  projectionMatrix * viewMatrix * modelPosition;\n  }\n",fragmentShader:Hn,uniforms:{uColor:{value:new An.n("purple")},uFrequency:{value:i},uScale:{value:o},uTime:{value:0},uTexture:{value:t}},side:An.u,transparent:!0}),r=new An.X(a,d);h.add(r);var l=new An.pb(16777215);l.position.set(4,2,3),h.add(l);var c=new An.c(4473924);h.add(c);var s=new An.e(5);h.add(s),(p=new An.nb(90,window.innerWidth/window.innerHeight,.1,1e3)).position.set(0,0,2),p.lookAt(h.position),(m=new An.Sb).setClearColor(12178431,1),m.render(h,p),null===(n=e.current)||void 0===n||n.appendChild(m.domElement),(new qn.b).add(d,"fragmentShader",{1:Hn,2:"\n  precision lowp float;\n  uniform float uTime;\n  uniform float uScale;\n  varying vec2 vUv; \n\n  void main(){\n    // \u5229\u7528\u901a\u8fc7\u53d6\u6a21\u8fbe\u5230\u53cd\u590d\u6548\u679c\n    float strength = mod(vUv.y * 10.0 , 1.0) ;\n    gl_FragColor = vec4(strength, strength, strength, 1);\n  }\n",3:"\n  precision lowp float;\n  uniform float uTime;\n  uniform float uScale;\n  varying vec2 vUv; \n\n  void main(){\n    // \u6761\u7eb9\u76f8\u52a0\n    float strength = step(0.8, mod(vUv.x * 10.0 , 1.0));\n    strength += step(0.8, mod(vUv.y * 10.0 , 1.0));\n    gl_FragColor =vec4(strength, strength, strength, 1);\n  }\n",4:"\n  precision lowp float;\n  uniform float uTime;\n  uniform float uScale;\n  varying vec2 vUv; \n\n  void main(){\n    // \u5229\u7528\u7edd\u5bf9\u503c\n    float strength = abs(vUv.x - 0.5) ;\n    gl_FragColor =vec4(strength,strength,strength,1);\n  }\n",5:"\n  precision lowp float;\n  uniform float uTime;\n  uniform float uScale;\n  varying vec2 vUv; \n\n  void main(){\n    // \u5c0f\u65e5\u672c\u56fd\u65d7\n    float strength = step(0.5,distance(vUv,vec2(0.5))+0.25);\n    gl_FragColor =vec4(strength,strength,strength,1);\n  }\n",6:"\n  precision lowp float;\n  uniform float uTime;\n  uniform float uScale;\n  varying vec2 vUv;\n\n  vec4 permute(vec4 x) {\n    return mod(((x*34.0)+1.0)*x, 289.0);\n  }\n\n  vec2 fade(vec2 t) {\n    return t*t*t*(t*(t*6.0-15.0)+10.0);\n  }\n\n  float cnoise(vec2 P) {\n    vec4 Pi = floor(P.xyxy) + vec4(0.0, 0.0, 1.0, 1.0);\n    vec4 Pf = fract(P.xyxy) - vec4(0.0, 0.0, 1.0, 1.0);\n    Pi = mod(Pi, 289.0); // To avoid truncation effects in permutation\n    vec4 ix = Pi.xzxz;\n    vec4 iy = Pi.yyww;\n    vec4 fx = Pf.xzxz;\n    vec4 fy = Pf.yyww;\n    vec4 i = permute(permute(ix) + iy);\n    vec4 gx = 2.0 * fract(i * 0.0243902439) - 1.0; // 1/41 = 0.024...\n    vec4 gy = abs(gx) - 0.5;\n    vec4 tx = floor(gx + 0.5);\n    gx = gx - tx;\n    vec2 g00 = vec2(gx.x,gy.x);\n    vec2 g10 = vec2(gx.y,gy.y);\n    vec2 g01 = vec2(gx.z,gy.z);\n    vec2 g11 = vec2(gx.w,gy.w);\n    vec4 norm = 1.79284291400159 - 0.85373472095314 * vec4(dot(g00, g00), dot(g01, g01), dot(g10, g10), dot(g11, g11));\n    g00 *= norm.x;\n    g01 *= norm.y;\n    g10 *= norm.z;\n    g11 *= norm.w;\n    float n00 = dot(g00, vec2(fx.x, fy.x));\n    float n10 = dot(g10, vec2(fx.y, fy.y));\n    float n01 = dot(g01, vec2(fx.z, fy.z));\n    float n11 = dot(g11, vec2(fx.w, fy.w));\n    vec2 fade_xy = fade(Pf.xy);\n    vec2 n_x = mix(vec2(n00, n01), vec2(n10, n11), fade_xy.x);\n    float n_xy = mix(n_x.x, n_x.y, fade_xy.y);\n    return 2.3 * n_xy;\n  } \n\n  void main(){\n    // \u901a\u8fc7\u65f6\u95f4\u5b9e\u73b0\u52a8\u6001\u9009\u62e9\n    vec3 purpleColor = vec3(1.0, 0.0, 1.0);\n    vec3 greenColor = vec3(1.0, 1.0, 1.0);\n    vec3 uvColor = vec3(vUv,1.0);\n    float strength = step(0.9,sin(cnoise(vUv * 10.0)*20.0))  ;\n\n    vec3 mixColor =  mix(greenColor,uvColor,strength);\n    // gl_FragColor =vec4(mixColor,1.0);\n    gl_FragColor =vec4(mixColor,1.0);\n  }\n"}).name("\u7247\u5143\u7740\u8272\u5668").onChange((function(e){d.fragmentShader=e,d.needsUpdate=!0}));var u=new zn.a(p,m.domElement),v=new An.m;!function e(){var n=v.getElapsedTime();d.uniforms.uTime.value=n,u.update(),m.render(h,p),requestAnimationFrame(e)}()}(),window.addEventListener("dblclick",t),function(){window.removeEventListener("dblclick",t)}}),[]),Object(gn.useEffect)((function(){(null===n||void 0===n?void 0:n.width)&&(null===n||void 0===n?void 0:n.height)&&function(){var e=Number(null===n||void 0===n?void 0:n.width),t=Number(null===n||void 0===n?void 0:n.height);p.aspect=e/t,p.updateProjectionMatrix(),m.setSize(e,t),m.setPixelRatio(window.devicePixelRatio)}()}),[null===n||void 0===n?void 0:n.width,null===n||void 0===n?void 0:n.height]),Object(Pn.jsx)("div",{id:"container",style:{width:"100%",height:"100%"},ref:e})},Wn=t(81),Xn=t(96),Dn=t(71),In=function(){var e=Object(gn.useRef)(null),n=Object(kn.a)(e),t=function(){document.fullscreenElement?document.exitFullscreen():b.domElement.requestFullscreen()};return Object(gn.useEffect)((function(){return function(){var n;f=new An.yb,(new Wn.a).loadAsync("/textures/hdr/003.hdr").then((function(e){e.mapping=An.v,f.background=e,f.environment=e}));var t=new An.ob(1,1,64,64),i=new An.zb({vertexShader:"\n  vprecision lowp float;\n  varying vec4 vPosition;\n  varying vec4 gPosition;\n\n  void main(){\n    vec4 modelPosition = modelMatrix * vec4( position, 1.0 );\n\n    vPosition = modelPosition;\n    gPosition = vec4( position, 1.0 );\n    gl_Position =  projectionMatrix * viewMatrix * modelPosition;\n  }\n",fragmentShader:"\n  precision lowp float;\n  varying vec4 vPosition;\n  varying vec4 gPosition;\n\n  void main(){\n    vec4 redColor = vec4(1,0,0,1);\n    vec4 yellowColor = vec4(1,1,0.5,1);\n    vec4 mixColor = mix(yellowColor,redColor,gPosition.y/3.0);\n\n    if(gl_FrontFacing){\n      gl_FragColor = vec4(mixColor.xyz-(vPosition.y-20.0)/80.0-0.1,1);\n    }else{\n      gl_FragColor = vec4(mixColor.xyz,1);\n    }\n  }\n",uniforms:{},side:An.u}),o=new An.X(t,i);f.add(o);var a=new An.pb(16777215);a.position.set(4,2,3),f.add(a);var d=new An.c(4473924);f.add(d),(g=new An.nb(90,window.innerWidth/window.innerHeight,.1,1e3)).position.set(0,0,2),g.lookAt(f.position),(b=new An.Sb({alpha:!0})).outputEncoding=An.Tb,b.toneMapping=An.a,b.toneMappingExposure=.2,b.render(f,g),null===(n=e.current)||void 0===n||n.appendChild(b.domElement),(new Xn.a).load("/model/flyLight.glb",(function(e){e.scene.children[1].material=i;for(var n=0;n<150;n++){var t=e.scene.clone(!0),o=300*(Math.random()-.5),a=300*(Math.random()-.5),d=60*Math.random()+25;t.position.set(o,d,a),Dn.a.to(t.rotation,{y:2*Math.PI,duration:10+30*Math.random(),repeat:-1}),Dn.a.to(t.position,{x:"+="+5*Math.random(),y:"+="+20*Math.random(),yoyo:!0,duration:5+10*Math.random(),repeat:-1}),f.add(t)}}));var r=new zn.a(g,b.domElement);!function e(){r.update(),b.render(f,g),requestAnimationFrame(e)}()}(),window.addEventListener("dblclick",t),function(){window.removeEventListener("dblclick",t)}}),[]),Object(gn.useEffect)((function(){(null===n||void 0===n?void 0:n.width)&&(null===n||void 0===n?void 0:n.height)&&function(){var e=Number(null===n||void 0===n?void 0:n.width),t=Number(null===n||void 0===n?void 0:n.height);g.aspect=e/t,g.updateProjectionMatrix(),b.setSize(e,t),b.setPixelRatio(window.devicePixelRatio)}()}),[null===n||void 0===n?void 0:n.width,null===n||void 0===n?void 0:n.height]),Object(Pn.jsx)("div",{id:"container",style:{width:"100%",height:"100%"},ref:e})},Bn=function(){var e=Object(gn.useRef)(null),n=Object(kn.a)(e);function t(){E.update(),j.render(x,y),requestAnimationFrame(t)}var i=function(){document.fullscreenElement?document.exitFullscreen():j.domElement.requestFullscreen()};return Object(gn.useEffect)((function(){return function(){var n;x=new An.yb;var i=new An.i(1,1,1),o=new An.Z({color:255}),a=new An.X(i,o);x.add(a);var d=new An.pb(16777215);d.position.set(4,2,3),x.add(d);var r=new An.c(4473924);x.add(r),O=new An.e(5),x.add(O),a.position.x=3,a.scale.y=1.5,a.rotation.set(Math.PI/4,0,0,"XZY"),(y=new An.nb(75,window.innerWidth/window.innerHeight,.1,1e3)).position.set(0,0,5),y.lookAt(x.position),(j=new An.Sb).setClearColor(12178431,1),j.render(x,y),null===(n=e.current)||void 0===n||n.appendChild(j.domElement),E=new zn.a(y,j.domElement),t()}(),window.addEventListener("dblclick",i),function(){window.removeEventListener("dblclick",i)}}),[]),Object(gn.useEffect)((function(){(null===n||void 0===n?void 0:n.width)&&(null===n||void 0===n?void 0:n.height)&&function(){var e=Number(null===n||void 0===n?void 0:n.width),t=Number(null===n||void 0===n?void 0:n.height);y.aspect=e/t,y.updateProjectionMatrix(),j.setSize(e,t),j.setPixelRatio(window.devicePixelRatio)}()}),[null===n||void 0===n?void 0:n.width,null===n||void 0===n?void 0:n.height]),Object(Pn.jsx)("div",{id:"container",style:{width:"100%",height:"100%"},ref:e})},Kn=function(){var e=Object(gn.useRef)(null),n=Object(kn.a)(e);function t(){M.update();var e=k.getElapsedTime(),n=e%5;e>25?(A.position.x=0,A.position.y=0,k.stop()):(A.position.x=n,A.position.y=n),S.render(C,P),requestAnimationFrame(t)}var i=function(){document.fullscreenElement?document.exitFullscreen():S.domElement.requestFullscreen()};return Object(gn.useEffect)((function(){return function(){var n;C=new An.yb;var i=new An.i(1,1,1),o=new An.Z({color:255});A=new An.X(i,o),C.add(A);var a=new An.pb(16777215);a.position.set(4,2,3),C.add(a);var d=new An.c(4473924);C.add(d),F=new An.e(5),C.add(F),(P=new An.nb(75,window.innerWidth/window.innerHeight,.1,1e3)).position.set(0,0,5),P.lookAt(C.position),(S=new An.Sb).setClearColor(12178431,1),S.render(C,P),null===(n=e.current)||void 0===n||n.appendChild(S.domElement),M=new zn.a(P,S.domElement),(k=new An.m).start(),t()}(),window.addEventListener("dblclick",i),function(){window.removeEventListener("dblclick",i)}}),[]),Object(gn.useEffect)((function(){(null===n||void 0===n?void 0:n.width)&&(null===n||void 0===n?void 0:n.height)&&function(){var e=Number(null===n||void 0===n?void 0:n.width),t=Number(null===n||void 0===n?void 0:n.height);P.aspect=e/t,P.updateProjectionMatrix(),S.setSize(e,t),S.setPixelRatio(window.devicePixelRatio)}()}),[null===n||void 0===n?void 0:n.width,null===n||void 0===n?void 0:n.height]),Object(Pn.jsx)("div",{id:"container",style:{width:"100%",height:"100%"},ref:e})},Yn=function(){var e=Object(gn.useRef)(null),n=Object(kn.a)(e);function t(){z.update(),L.render(R,T),requestAnimationFrame(t)}var i=function(){document.fullscreenElement?document.exitFullscreen():L.domElement.requestFullscreen()};return Object(gn.useEffect)((function(){return function(){var n;R=new An.yb;var i=new An.i(1,1,1),o=new An.Z({color:255});_=new An.X(i,o),console.log("mesh:",_),R.add(_);var a=new An.pb(16777215);a.position.set(4,2,3),R.add(a);var d=new An.c(4473924);R.add(d),N=new An.e(5),R.add(N),(T=new An.nb(75,window.innerWidth/window.innerHeight,.1,1e3)).position.set(0,0,5),T.lookAt(R.position),(L=new An.Sb).setClearColor(12178431,1),L.render(R,T),null===(n=e.current)||void 0===n||n.appendChild(L.domElement),z=new zn.a(T,L.domElement);var r=new qn.b;r.add(_,"visible").name("\u663e\u793a\u7269\u4f53").onChange((function(){return console.log("\u5f53\u524d\u7269\u4f53\u662f\u5426\u663e\u793a\uff1a".concat(_.visible))})),r.addColor(_.material,"color").name("\u6539\u53d8\u7269\u4f53\u989c\u8272").onChange((function(e){_.material.color.set(e)}));var l=r.addFolder("\u79fb\u52a8\u7269\u4f53\u4f4d\u7f6e");l.add(_.position,"x").min(0).max(5).step(.01).name("\u79fb\u52a8x\u8f74"),l.add(_.position,"y").min(0).max(5).step(.01).name("\u79fb\u52a8y\u8f74"),l.add(_.position,"z").min(0).max(5).step(.01).name("\u79fb\u52a8z\u8f74"),t()}(),window.addEventListener("dblclick",i),function(){window.removeEventListener("dblclick",i)}}),[]),Object(gn.useEffect)((function(){(null===n||void 0===n?void 0:n.width)&&(null===n||void 0===n?void 0:n.height)&&function(){var e=Number(null===n||void 0===n?void 0:n.width),t=Number(null===n||void 0===n?void 0:n.height);T.aspect=e/t,T.updateProjectionMatrix(),L.setSize(e,t),L.setPixelRatio(window.devicePixelRatio)}()}),[null===n||void 0===n?void 0:n.width,null===n||void 0===n?void 0:n.height]),Object(Pn.jsx)("div",{id:"container",style:{width:"100%",height:"100%"},ref:e})},Gn=function(){var e=Object(gn.useRef)(null),n=Object(kn.a)(e);function t(){W.update(),H.render(q,U),requestAnimationFrame(t)}var i=function(){document.fullscreenElement?document.exitFullscreen():H.domElement.requestFullscreen()};return Object(gn.useEffect)((function(){return function(){var n;q=new An.yb;var i=new An.k,o=new Float32Array([-1,-1,1,1,-1,1,1,1,1,-1,1,1]),a=new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1]),d=new Uint16Array([0,1,2,0,2,3]);i.setAttribute("position",new An.j(o,3)),i.setAttribute("normal",new An.j(a,3)),i.index=new An.j(d,1);var r=new An.Z({color:255}),l=new An.X(i,r);q.add(l);var c=new An.pb(16777215);c.position.set(4,2,3),q.add(c);var s=new An.c(4473924);q.add(s),X=new An.e(5),q.add(X),(U=new An.nb(75,window.innerWidth/window.innerHeight,.1,1e3)).position.set(0,0,5),U.lookAt(q.position),(H=new An.Sb).setClearColor(12178431,1),H.render(q,U),null===(n=e.current)||void 0===n||n.appendChild(H.domElement),W=new zn.a(U,H.domElement),t()}(),window.addEventListener("dblclick",i),function(){window.removeEventListener("dblclick",i)}}),[]),Object(gn.useEffect)((function(){(null===n||void 0===n?void 0:n.width)&&(null===n||void 0===n?void 0:n.height)&&function(){var e=Number(null===n||void 0===n?void 0:n.width),t=Number(null===n||void 0===n?void 0:n.height);U.aspect=e/t,U.updateProjectionMatrix(),H.setSize(e,t),H.setPixelRatio(window.devicePixelRatio)}()}),[null===n||void 0===n?void 0:n.width,null===n||void 0===n?void 0:n.height]),Object(Pn.jsx)("div",{id:"container",style:{width:"100%",height:"100%"},ref:e})},Zn=function(){var e=Object(gn.useRef)(null),n=Object(kn.a)(e);function t(){K.update(),I.render(D,B),requestAnimationFrame(t)}var i=function(){document.fullscreenElement?document.exitFullscreen():I.domElement.requestFullscreen()};return Object(gn.useEffect)((function(){return function(){var n;D=new An.yb;for(var i=new An.k,o=[],a=0;a<300;a+=1)o.push(Math.random()-.5);var d=new Float32Array(o);i.setAttribute("position",new An.j(d,3));var r=new An.Z({color:6323595,wireframe:!0}),l=new An.X(i,r);D.add(l);var c=new An.pb(16777215);c.position.set(4,2,3),D.add(c);var s=new An.c(4473924);D.add(s),(B=new An.nb(75,window.innerWidth/window.innerHeight,.1,1e3)).position.set(0,0,5),B.lookAt(D.position),(I=new An.Sb).setClearColor(12178431,1),I.render(D,B),null===(n=e.current)||void 0===n||n.appendChild(I.domElement),K=new zn.a(B,I.domElement),t()}(),window.addEventListener("dblclick",i),function(){window.removeEventListener("dblclick",i)}}),[]),Object(gn.useEffect)((function(){(null===n||void 0===n?void 0:n.width)&&(null===n||void 0===n?void 0:n.height)&&function(){var e=Number(null===n||void 0===n?void 0:n.width),t=Number(null===n||void 0===n?void 0:n.height);B.aspect=e/t,B.updateProjectionMatrix(),I.setSize(e,t),I.setPixelRatio(window.devicePixelRatio)}()}),[null===n||void 0===n?void 0:n.width,null===n||void 0===n?void 0:n.height]),Object(Pn.jsx)("div",{id:"container",style:{width:"100%",height:"100%"},ref:e})},Jn=function(){var e=Object(gn.useRef)(null),n=Object(kn.a)(e),t=Object(gn.useState)(""),i=Object(En.a)(t,2),o=i[0],a=i[1];function d(){J.update(),G.render(Y,Z),requestAnimationFrame(d)}var r=function(){document.fullscreenElement?document.exitFullscreen():G.domElement.requestFullscreen()};return Object(gn.useEffect)((function(){return function(){var n;Y=new An.yb;var t=new An.i,i=new An.S;i.onStart=function(e,n,t){a("\u5f00\u59cb\u52a0\u8f7d\u8d44\u6e90: ".concat(e,".\nLoaded ").concat(n," of ").concat(t," files."))},i.onProgress=function(e,n,t){a("\u52a0\u8f7d\u8d44\u6e90\u4e2d: ".concat(e,".\nLoaded ").concat(n," of ").concat(t," files."))},i.onLoad=function(){a("\u52a0\u8f7d\u8d44\u6e90\u5b8c\u6210")},i.onError=function(e){a("\u52a0\u8f7d\u8d44\u6e90\u51fa\u9519 ".concat(e))};var o=new An.Kb(i),r=o.load("/textures/door/color.jpg"),l=(o.load("/textures/door/alpha.jpg"),o.load("/textures/door/height.jpg"),o.load("/textures/door/normal.jpg"),o.load("/textures/door/alpha.jpg"),o.load("/textures/door/height.jpg"),o.load("/textures/door/normal.jpg"),o.load("/textures/door/alpha.jpg"),o.load("/textures/door/height.jpg"),o.load("/textures/door/normal.jpg"),o.load("/textures/door/alpha.jpg"),o.load("/textures/door/height.jpg"),o.load("/textures/door/normal.jpg"),new An.Y({map:r})),c=new An.X(t,l);Y.add(c);var s=new An.pb(16777215);s.position.set(4,2,3),Y.add(s);var u=new An.c(4473924);Y.add(u),V=new An.e(5),Y.add(V),(Z=new An.nb(75,window.innerWidth/window.innerHeight,.1,1e3)).position.set(0,0,5),Z.lookAt(Y.position),(G=new An.Sb).setClearColor(12178431,1),G.render(Y,Z),null===(n=e.current)||void 0===n||n.appendChild(G.domElement),J=new zn.a(Z,G.domElement),d()}(),window.addEventListener("dblclick",r),function(){window.removeEventListener("dblclick",r)}}),[]),Object(gn.useEffect)((function(){(null===n||void 0===n?void 0:n.width)&&(null===n||void 0===n?void 0:n.height)&&function(){var e=Number(null===n||void 0===n?void 0:n.width),t=Number(null===n||void 0===n?void 0:n.height);Z.aspect=e/t,Z.updateProjectionMatrix(),G.setSize(e,t),G.setPixelRatio(window.devicePixelRatio)}()}),[null===n||void 0===n?void 0:n.width,null===n||void 0===n?void 0:n.height]),Object(Pn.jsx)("div",{id:"container",style:{width:"100%",height:"100%"},ref:e,children:Object(Pn.jsx)("div",{className:"load-tip",id:"tip",children:o})})},Vn=function(){var e=Object(gn.useRef)(null),n=Object(kn.a)(e),t=Object(gn.useState)(""),i=Object(En.a)(t,2),o=i[0],a=i[1];function d(){ne.update(),$.render(Q,ee),requestAnimationFrame(d)}var r=function(){document.fullscreenElement?document.exitFullscreen():$.domElement.requestFullscreen()};return Object(gn.useEffect)((function(){return function(){var n;Q=new An.yb;var t=new An.i,i=new An.S;i.onStart=function(e,n,t){a("\u5f00\u59cb\u52a0\u8f7d\u8d44\u6e90: ".concat(e,".\nLoaded ").concat(n," of ").concat(t," files."))},i.onProgress=function(e,n,t){a("\u52a0\u8f7d\u8d44\u6e90\u4e2d: ".concat(e,".\nLoaded ").concat(n," of ").concat(t," files."))},i.onLoad=function(){a("\u52a0\u8f7d\u8d44\u6e90\u5b8c\u6210")},i.onError=function(e){a("\u52a0\u8f7d\u8d44\u6e90\u51fa\u9519 ".concat(e))};var o=new An.Kb(i).load("/textures/door/color.jpg");o.repeat.x=2,o.repeat.x=3,o.wrapS=An.xb,o.wrapT=An.xb,o.offset.x=.5,o.offset.y=0,o.rotation=Math.PI/4,o.center=new An.Pb(.5,.5);var r=new An.Y({map:o}),l=new An.X(t,r);Q.add(l);var c=new An.pb(16777215);c.position.set(4,2,3),Q.add(c);var s=new An.c(4473924);Q.add(s),te=new An.e(5),Q.add(te),(ee=new An.nb(75,window.innerWidth/window.innerHeight,.1,1e3)).position.set(0,0,5),ee.lookAt(Q.position),($=new An.Sb).setClearColor(12178431,1),$.render(Q,ee),null===(n=e.current)||void 0===n||n.appendChild($.domElement),ne=new zn.a(ee,$.domElement),d()}(),window.addEventListener("dblclick",r),function(){window.removeEventListener("dblclick",r)}}),[]),Object(gn.useEffect)((function(){(null===n||void 0===n?void 0:n.width)&&(null===n||void 0===n?void 0:n.height)&&function(){var e=Number(null===n||void 0===n?void 0:n.width),t=Number(null===n||void 0===n?void 0:n.height);ee.aspect=e/t,ee.updateProjectionMatrix(),$.setSize(e,t),$.setPixelRatio(window.devicePixelRatio)}()}),[null===n||void 0===n?void 0:n.width,null===n||void 0===n?void 0:n.height]),Object(Pn.jsx)("div",{id:"container",style:{width:"100%",height:"100%"},ref:e,children:Object(Pn.jsx)("div",{className:"load-tip",id:"tip",children:o})})},Qn=function(){var e=Object(gn.useRef)(null),n=Object(kn.a)(e),t=Object(gn.useState)(""),i=Object(En.a)(t,2),o=i[0],a=i[1];function d(){de.update(),oe.render(ie,ae),requestAnimationFrame(d)}var r=function(){document.fullscreenElement?document.exitFullscreen():oe.domElement.requestFullscreen()};return Object(gn.useEffect)((function(){return function(){var n;ie=new An.yb;var t=new An.i,i=new An.S;i.onStart=function(e,n,t){a("\u5f00\u59cb\u52a0\u8f7d\u8d44\u6e90: ".concat(e,".\nLoaded ").concat(n," of ").concat(t," files."))},i.onProgress=function(e,n,t){a("\u52a0\u8f7d\u8d44\u6e90\u4e2d: ".concat(e,".\nLoaded ").concat(n," of ").concat(t," files."))},i.onLoad=function(){a("\u52a0\u8f7d\u8d44\u6e90\u5b8c\u6210")},i.onError=function(e){a("\u52a0\u8f7d\u8d44\u6e90\u51fa\u9519 ".concat(e))};var o=new An.Kb(i).load("/textures/minecraft.png");o.minFilter=An.fb,o.magFilter=An.fb;var r=new An.Y({map:o}),l=new An.X(t,r);ie.add(l);var c=new An.pb(16777215);c.position.set(4,2,3),ie.add(c);var s=new An.c(4473924);ie.add(s),re=new An.e(5),ie.add(re),(ae=new An.nb(75,window.innerWidth/window.innerHeight,.1,1e3)).position.set(0,0,5),ae.lookAt(ie.position),(oe=new An.Sb).setClearColor(12178431,1),oe.render(ie,ae),null===(n=e.current)||void 0===n||n.appendChild(oe.domElement),de=new zn.a(ae,oe.domElement),d()}(),window.addEventListener("dblclick",r),function(){window.removeEventListener("dblclick",r)}}),[]),Object(gn.useEffect)((function(){(null===n||void 0===n?void 0:n.width)&&(null===n||void 0===n?void 0:n.height)&&function(){var e=Number(null===n||void 0===n?void 0:n.width),t=Number(null===n||void 0===n?void 0:n.height);ae.aspect=e/t,ae.updateProjectionMatrix(),oe.setSize(e,t),oe.setPixelRatio(window.devicePixelRatio)}()}),[null===n||void 0===n?void 0:n.width,null===n||void 0===n?void 0:n.height]),Object(Pn.jsx)("div",{id:"container",style:{width:"100%",height:"100%"},ref:e,children:Object(Pn.jsx)("div",{className:"load-tip",id:"tip",children:o})})},$n=function(){var e=Object(gn.useRef)(null),n=Object(kn.a)(e),t=Object(gn.useState)(""),i=Object(En.a)(t,2),o=i[0],a=i[1];function d(){ue.update(),ce.render(le,se),requestAnimationFrame(d)}var r=function(){document.fullscreenElement?document.exitFullscreen():ce.domElement.requestFullscreen()};return Object(gn.useEffect)((function(){return function(){var n;le=new An.yb;var t=new An.i,i=new An.S;i.onStart=function(e,n,t){a("\u5f00\u59cb\u52a0\u8f7d\u8d44\u6e90: ".concat(e,".\nLoaded ").concat(n," of ").concat(t," files."))},i.onProgress=function(e,n,t){a("\u52a0\u8f7d\u8d44\u6e90\u4e2d: ".concat(e,".\nLoaded ").concat(n," of ").concat(t," files."))},i.onLoad=function(){a("\u52a0\u8f7d\u8d44\u6e90\u5b8c\u6210")},i.onError=function(e){a("\u52a0\u8f7d\u8d44\u6e90\u51fa\u9519 ".concat(e))};var o=new An.Kb(i),r=o.load("/textures/door/color.jpg"),l=o.load("/textures/door/alpha.jpg"),c=o.load("/textures/door/ambientOcclusion.jpg"),s=new An.Y({color:"#ffff00",map:r,alphaMap:l,transparent:!0,opacity:.5,aoMap:c,aoMapIntensity:.5,wireframe:!1,side:An.u});t.setAttribute("uv2",new An.j(t.attributes.uv.array,2));var u=new An.X(t,s);le.add(u);var v=new qn.b;v.add(s,"alphaMap",{fibers:l,none:null}).name("\u900f\u660e\u8d34\u56fe").onChange((function(e){s.needsUpdate=!0})),v.add(s,"transparent").name("\u662f\u5426\u900f\u660e").onChange((function(){return console.log("\u5f53\u524d\u7269\u4f53\u662f\u5426\u663e\u793a\uff1a".concat(u.visible))})),v.add(s,"opacity").min(0).max(1).step(.01).name("\u8bbe\u7f6e\u900f\u660e\u5ea6"),v.add(s,"aoMap",{fibers:c,none:null}).name("\u73af\u5883\u906e\u6321\u8d34\u56fe").onChange((function(e){s.needsUpdate=!0})),v.add(s,"aoMapIntensity").min(0).max(1).step(.01).name("\u73af\u5883\u906e\u6321\u5f3a\u5ea6"),v.add(s,"side",{"THREE.FrontSide":An.z,"THREE.BackSide":An.f,"THREE.DoubleSide":An.u}).name("\u6e32\u67d3\u9762").onChange((function(e){s.needsUpdate=!0})),v.add(s,"wireframe").name("\u662f\u5426\u7ebf\u6846");var w=new An.pb(16777215);w.position.set(4,2,3),le.add(w);var h=new An.c(4473924);le.add(h),ve=new An.e(5),le.add(ve),(se=new An.nb(75,window.innerWidth/window.innerHeight,.1,1e3)).position.set(0,0,5),se.lookAt(le.position),(ce=new An.Sb).setClearColor(12178431,1),ce.render(le,se),null===(n=e.current)||void 0===n||n.appendChild(ce.domElement),ue=new zn.a(se,ce.domElement),d()}(),window.addEventListener("dblclick",r),function(){window.removeEventListener("dblclick",r)}}),[]),Object(gn.useEffect)((function(){(null===n||void 0===n?void 0:n.width)&&(null===n||void 0===n?void 0:n.height)&&function(){var e=Number(null===n||void 0===n?void 0:n.width),t=Number(null===n||void 0===n?void 0:n.height);se.aspect=e/t,se.updateProjectionMatrix(),ce.setSize(e,t),ce.setPixelRatio(window.devicePixelRatio)}()}),[null===n||void 0===n?void 0:n.width,null===n||void 0===n?void 0:n.height]),Object(Pn.jsx)("div",{id:"container",style:{width:"100%",height:"100%"},ref:e,children:Object(Pn.jsx)("div",{className:"load-tip",id:"tip",children:o})})},et=function(){var e=Object(gn.useRef)(null),n=Object(kn.a)(e),t=Object(gn.useState)(""),i=Object(En.a)(t,2),o=i[0],a=i[1];function d(){pe.update(),he.render(we,me),requestAnimationFrame(d)}var r=function(){document.fullscreenElement?document.exitFullscreen():he.domElement.requestFullscreen()};return Object(gn.useEffect)((function(){return function(){var n;we=new An.yb;var t=new An.i(1,1,1,100,100,100),i=new An.S;i.onStart=function(e,n,t){a("\u5f00\u59cb\u52a0\u8f7d\u8d44\u6e90: ".concat(e,".\nLoaded ").concat(n," of ").concat(t," files."))},i.onProgress=function(e,n,t){a("\u52a0\u8f7d\u8d44\u6e90\u4e2d: ".concat(e,".\nLoaded ").concat(n," of ").concat(t," files."))},i.onLoad=function(){a("\u52a0\u8f7d\u8d44\u6e90\u5b8c\u6210")},i.onError=function(e){a("\u52a0\u8f7d\u8d44\u6e90\u51fa\u9519 ".concat(e))};var o=new An.Kb(i),r=o.load("/textures/door/color.jpg"),l=o.load("/textures/door/alpha.jpg"),c=o.load("/textures/door/ambientOcclusion.jpg"),s=o.load("/textures/door/height.jpg"),u=o.load("/textures/door/roughness.jpg"),v=o.load("/textures/door/metalness.jpg"),w=o.load("/textures/door/normal.jpg"),h=new An.bb({color:"#ffff00",map:r,alphaMap:null,transparent:!0,opacity:1,aoMap:null,aoMapIntensity:1,displacementMap:s,displacementScale:.1,roughnessMap:null,roughness:1,metalnessMap:null,metalness:1,normalMap:null,side:An.u});t.setAttribute("uv2",new An.j(t.attributes.uv.array,2));var m=new An.X(t,h);we.add(m);var p=new qn.b,f=p.addFolder("BasicMaterial");f.add(h,"alphaMap",{hasMap:l,none:null}).name("\u900f\u660e\u8d34\u56fe").onChange((function(e){h.needsUpdate=!0})),f.add(h,"transparent").name("\u662f\u5426\u900f\u660e").onChange((function(){return console.log("\u5f53\u524d\u7269\u4f53\u662f\u5426\u663e\u793a\uff1a".concat(m.visible))})),f.add(h,"opacity").min(0).max(1).step(.01).name("\u8bbe\u7f6e\u900f\u660e\u5ea6"),f.add(h,"aoMap",{hasMap:c,none:null}).name("\u73af\u5883\u906e\u6321\u8d34\u56fe").onChange((function(e){h.needsUpdate=!0})),f.add(h,"aoMapIntensity").min(0).max(1).step(.01).name("\u73af\u5883\u906e\u6321\u5f3a\u5ea6"),f.add(h,"side",{"THREE.FrontSide":An.z,"THREE.BackSide":An.f,"THREE.DoubleSide":An.u}).name("\u6e32\u67d3\u9762").onChange((function(e){h.needsUpdate=!0}));var b=p.addFolder("StandardMaterial");b.add(h,"displacementMap",{hasMap:s,none:null}).name("\u7f6e\u6362\u8d34\u56fe").onChange((function(e){h.needsUpdate=!0})),b.add(h,"displacementScale").min(0).max(.1).step(1e-4).name("\u7f6e\u6362\u8d34\u56fe\u9876\u70b9\u7ec6\u5206\u5ea6"),b.add(h,"roughnessMap",{hasMap:u,none:null}).name("\u7c97\u7cd9\u5ea6\u8d34\u56fe").onChange((function(e){h.needsUpdate=!0})),b.add(h,"roughness").min(0).max(1).step(.01).name("\u7c97\u7cd9\u7a0b\u5ea6"),b.add(h,"metalnessMap",{hasMap:v,none:null}).name("\u91d1\u5c5e\u5ea6\u8d34\u56fe").onChange((function(e){h.needsUpdate=!0})),b.add(h,"metalness").min(0).max(1).step(.01).name("\u91d1\u5c5e\u76f8\u4f3c\u5ea6"),b.add(h,"normalMap",{hasMap:w,none:null}).name("\u6cd5\u7ebf\u8d34\u56fe").onChange((function(e){h.needsUpdate=!0}));var g=new An.c(16777215,.5);we.add(g);var x=new An.t(16777215,.5);x.position.set(10,10,10),we.add(x),fe=new An.e(5),we.add(fe),(me=new An.nb(75,window.innerWidth/window.innerHeight,.1,1e3)).position.set(0,0,5),me.lookAt(we.position),(he=new An.Sb).setClearColor(12178431,1),he.render(we,me),null===(n=e.current)||void 0===n||n.appendChild(he.domElement),pe=new zn.a(me,he.domElement),d()}(),window.addEventListener("dblclick",r),function(){window.removeEventListener("dblclick",r)}}),[]),Object(gn.useEffect)((function(){(null===n||void 0===n?void 0:n.width)&&(null===n||void 0===n?void 0:n.height)&&function(){var e=Number(null===n||void 0===n?void 0:n.width),t=Number(null===n||void 0===n?void 0:n.height);me.aspect=e/t,me.updateProjectionMatrix(),he.setSize(e,t),he.setPixelRatio(window.devicePixelRatio)}()}),[null===n||void 0===n?void 0:n.width,null===n||void 0===n?void 0:n.height]),Object(Pn.jsx)("div",{id:"container",style:{width:"100%",height:"100%"},ref:e,children:Object(Pn.jsx)("div",{className:"load-tip",id:"tip",children:o})})},nt={envMap:3},tt=function(){var e=Object(gn.useRef)(null),n=Object(kn.a)(e);function t(){je.update(),ge.render(be,xe),requestAnimationFrame(t)}var i=function(){document.fullscreenElement?document.exitFullscreen():ge.domElement.requestFullscreen()};return Object(gn.useEffect)((function(){return function(){var n;be=new An.yb;var i,o=(new An.p).load(["/textures/environmentMaps/1/px.jpg","/textures/environmentMaps/1/nx.jpg","/textures/environmentMaps/1/py.jpg","/textures/environmentMaps/1/ny.jpg","/textures/environmentMaps/1/pz.jpg","/textures/environmentMaps/1/nz.jpg"]);(new Wn.a).loadAsync("/textures/hdr/002.hdr").then((function(e){e.mapping=An.v,i=e}));var a=new An.Db(1,20,20),d=new An.bb({metalness:.7,roughness:.1}),r=new An.X(a,d);be.add(r),(new qn.b).add(nt,"envMap",{"\u73af\u5883\u8d34\u56fe":1,hdr:2,"\u65e0":3}).name("\u8d34\u56fe\u7c7b\u578b").onChange((function(e){1===e?(be.background=o,be.environment=o):2===e?(be.background=i,be.environment=i):(be.background=null,be.environment=null)}));var l=new An.c(16777215,.5);be.add(l);var c=new An.t(16777215,.5);c.position.set(10,10,10),be.add(c),ye=new An.e(5),be.add(ye),(xe=new An.nb(75,window.innerWidth/window.innerHeight,.1,1e3)).position.set(0,0,10),xe.lookAt(be.position),(ge=new An.Sb).setClearColor(12178431,1),ge.render(be,xe),null===(n=e.current)||void 0===n||n.appendChild(ge.domElement),je=new zn.a(xe,ge.domElement),t()}(),window.addEventListener("dblclick",i),function(){window.removeEventListener("dblclick",i)}}),[]),Object(gn.useEffect)((function(){(null===n||void 0===n?void 0:n.width)&&(null===n||void 0===n?void 0:n.height)&&function(){var e=Number(null===n||void 0===n?void 0:n.width),t=Number(null===n||void 0===n?void 0:n.height);xe.aspect=e/t,xe.updateProjectionMatrix(),ge.setSize(e,t),ge.setPixelRatio(window.devicePixelRatio)}()}),[null===n||void 0===n?void 0:n.width,null===n||void 0===n?void 0:n.height]),Object(Pn.jsx)("div",{id:"container",style:{width:"100%",height:"100%"},ref:e})},it=function(){var e=Object(gn.useRef)(null),n=Object(kn.a)(e);function t(){Se.update(),Oe.render(Ee,Ce),requestAnimationFrame(t)}var i=function(){document.fullscreenElement?document.exitFullscreen():Oe.domElement.requestFullscreen()};return Object(gn.useEffect)((function(){return function(){var n;Ee=new An.yb;var i=new An.Db(1,20,20),o=new An.bb,a=new An.X(i,o);a.castShadow=!0,Ee.add(a);var d=new An.ob(10,10),r=new An.X(d,o);r.position.set(0,-1,0),r.rotation.x=-Math.PI/2,r.receiveShadow=!0,Ee.add(r);var l=new An.c(16777215,.5);Ee.add(l);var c=new An.t(16777215,.5);c.position.set(5,5,5),c.castShadow=!0,c.shadow.camera.near=.5,c.shadow.camera.far=500,c.shadow.camera.top=5,c.shadow.camera.bottom=-5,c.shadow.camera.left=-5,c.shadow.camera.right=5,Ee.add(c);var s=(new qn.b).addFolder("\u5e73\u884c\u5149");s.add(c.shadow.camera,"near").min(0).max(10).step(.1).onChange((function(){c.shadow.camera.updateProjectionMatrix()})),s.add(c.shadow.camera,"far").min(0).max(1e3).step(10).onChange((function(){c.shadow.camera.updateProjectionMatrix()})),s.add(c.shadow.camera,"top").min(0).max(10).step(1).onChange((function(){c.shadow.camera.updateProjectionMatrix()})),s.add(c.shadow.camera,"bottom").min(-10).max(0).step(1).onChange((function(){c.shadow.camera.updateProjectionMatrix()})),s.add(c.shadow.camera,"left").min(-10).max(0).step(1).onChange((function(){c.shadow.camera.updateProjectionMatrix()})),s.add(c.shadow.camera,"right").min(0).max(10).step(1).onChange((function(){c.shadow.camera.updateProjectionMatrix()})),Pe=new An.e(5),Ee.add(Pe),(Ce=new An.nb(75,window.innerWidth/window.innerHeight,.1,1e3)).position.set(0,0,10),Ce.lookAt(Ee.position),(Oe=new An.Sb).shadowMap.enabled=!0,Oe.setClearColor(12178431,1),Oe.render(Ee,Ce),null===(n=e.current)||void 0===n||n.appendChild(Oe.domElement),Se=new zn.a(Ce,Oe.domElement),t()}(),window.addEventListener("dblclick",i),function(){window.removeEventListener("dblclick",i)}}),[]),Object(gn.useEffect)((function(){(null===n||void 0===n?void 0:n.width)&&(null===n||void 0===n?void 0:n.height)&&function(){var e=Number(null===n||void 0===n?void 0:n.width),t=Number(null===n||void 0===n?void 0:n.height);Ce.aspect=e/t,Ce.updateProjectionMatrix(),Oe.setSize(e,t),Oe.setPixelRatio(window.devicePixelRatio)}()}),[null===n||void 0===n?void 0:n.width,null===n||void 0===n?void 0:n.height]),Object(Pn.jsx)("div",{id:"container",style:{width:"100%",height:"100%"},ref:e})},ot=function(){var e=Object(gn.useRef)(null),n=Object(kn.a)(e);function t(){Ae.update(),Fe.render(Me,ke),requestAnimationFrame(t)}var i=function(){document.fullscreenElement?document.exitFullscreen():Fe.domElement.requestFullscreen()};return Object(gn.useEffect)((function(){return function(){var n;Me=new An.yb;var i=new An.Db(1,20,20),o=new An.bb,a=new An.X(i,o);a.castShadow=!0,Me.add(a);var d=new An.ob(50,50),r=new An.X(d,o);r.position.set(0,-1,0),r.rotation.x=-Math.PI/2,r.receiveShadow=!0,Me.add(r);var l=new An.c(16777215,.5);Me.add(l);var c=new An.Fb(16777215,1);c.position.set(5,5,5),c.castShadow=!0,c.intensity=2,c.shadow.radius=20,c.shadow.mapSize.set(512,512),c.target=a,c.angle=Math.PI/6,c.distance=0,c.penumbra=0,c.decay=0,Me.add(c);var s=(new qn.b).addFolder("\u5e73\u884c\u5149");s.add(a.position,"x").min(-5).max(5).step(.1),s.add(c,"angle").min(0).max(Math.PI/2).step(.01),s.add(c,"distance").min(0).max(10).step(.01),s.add(c,"penumbra").min(0).max(1).step(.01),s.add(c,"decay").min(0).max(5).step(.01),Re=new An.e(5),Me.add(Re),(ke=new An.nb(75,window.innerWidth/window.innerHeight,.1,1e3)).position.set(0,0,10),ke.lookAt(Me.position),(Fe=new An.Sb).shadowMap.enabled=!0,Fe.physicallyCorrectLights=!0,Fe.setClearColor(12178431,1),Fe.render(Me,ke),null===(n=e.current)||void 0===n||n.appendChild(Fe.domElement),Ae=new zn.a(ke,Fe.domElement),t()}(),window.addEventListener("dblclick",i),function(){window.removeEventListener("dblclick",i)}}),[]),Object(gn.useEffect)((function(){(null===n||void 0===n?void 0:n.width)&&(null===n||void 0===n?void 0:n.height)&&function(){var e=Number(null===n||void 0===n?void 0:n.width),t=Number(null===n||void 0===n?void 0:n.height);ke.aspect=e/t,ke.updateProjectionMatrix(),Fe.setSize(e,t),Fe.setPixelRatio(window.devicePixelRatio)}()}),[null===n||void 0===n?void 0:n.width,null===n||void 0===n?void 0:n.height]),Object(Pn.jsx)("div",{id:"container",style:{width:"100%",height:"100%"},ref:e})},at=function(){var e=Object(gn.useRef)(null),n=Object(kn.a)(e);function t(){Ne.update(),Te.render(Le,ze),requestAnimationFrame(t)}var i=function(){document.fullscreenElement?document.exitFullscreen():Te.domElement.requestFullscreen()};return Object(gn.useEffect)((function(){return function(){var n;Le=new An.yb;var i=new An.Db(1,20,20),o=new An.bb,a=new An.X(i,o);a.castShadow=!0,Le.add(a);var d=new An.ob(50,50),r=new An.X(d,o);r.position.set(0,-1,0),r.rotation.x=-Math.PI/2,r.receiveShadow=!0,Le.add(r);var l=new An.c(16777215,.5);Le.add(l);var c=new An.X(new An.Db(.1,20,20),new An.Y({color:16711680}));c.position.set(2,2,2);var s=new An.pb(16711680,1);s.castShadow=!0,s.shadow.radius=20,s.shadow.mapSize.set(512,512),s.decay=0,c.add(s),Le.add(c);var u=(new qn.b).addFolder("\u70b9\u5149\u6e90");u.add(c.position,"x").min(-5).max(5).step(.1),u.add(c.position,"y").min(-5).max(5).step(.1),u.add(c.position,"z").min(-5).max(5).step(.1),_e=new An.e(5),Le.add(_e),(ze=new An.nb(75,window.innerWidth/window.innerHeight,.1,1e3)).position.set(0,0,10),ze.lookAt(Le.position),(Te=new An.Sb).shadowMap.enabled=!0,Te.physicallyCorrectLights=!0,Te.setClearColor(12178431,1),Te.render(Le,ze),null===(n=e.current)||void 0===n||n.appendChild(Te.domElement),Ne=new zn.a(ze,Te.domElement),t()}(),window.addEventListener("dblclick",i),function(){window.removeEventListener("dblclick",i)}}),[]),Object(gn.useEffect)((function(){(null===n||void 0===n?void 0:n.width)&&(null===n||void 0===n?void 0:n.height)&&function(){var e=Number(null===n||void 0===n?void 0:n.width),t=Number(null===n||void 0===n?void 0:n.height);ze.aspect=e/t,ze.updateProjectionMatrix(),Te.setSize(e,t),Te.setPixelRatio(window.devicePixelRatio)}()}),[null===n||void 0===n?void 0:n.width,null===n||void 0===n?void 0:n.height]),Object(Pn.jsx)("div",{id:"container",style:{width:"100%",height:"100%"},ref:e})},dt=function(){var e=Object(gn.useRef)(null),n=Object(kn.a)(e);function t(){We.update(),He.render(qe,Ue),requestAnimationFrame(t)}var i=function(){document.fullscreenElement?document.exitFullscreen():He.domElement.requestFullscreen()};return Object(gn.useEffect)((function(){return function(){var n;qe=new An.yb;var i={widthSegments:30,heightSegments:30},o=new An.Db(3,i.widthSegments,i.heightSegments),a=new An.rb;a.size=.1,a.color.set(16773120),a.sizeAttenuation=!0;var d=(new An.Kb).load("/textures/particles/2.png");a.map=d,a.alphaMap=d,a.transparent=!0,a.depthWrite=!1,a.blending=An.b;var r=new An.qb(o,a);qe.add(r);var l=new qn.b;console.log("points",r),l.add(i,"widthSegments").min(3).max(100).step(1).name("\u7403\u7684\u6c34\u5e73\u5206\u6bb5\u6570").onChange((function(e){r.geometry.dispose(),r.geometry=new An.Db(3,i.widthSegments,i.heightSegments)})),l.add(i,"heightSegments").min(2).max(100).step(1).name("\u7403\u7684\u5782\u76f4\u5206\u6bb5\u6570").onChange((function(e){r.geometry.dispose(),r.geometry=new An.Db(3,i.widthSegments,i.heightSegments)})),l.add(a,"size").min(0).max(1).step(.01).name("\u70b9\u7684\u5927\u5c0f"),l.add(a,"sizeAttenuation").name("\u662f\u5426\u56e0\u76f8\u673a\u6df1\u5ea6\u800c\u8870\u51cf").onChange((function(e){a.needsUpdate=!0})),l.add(a,"transparent").name("\u6750\u8d28\u662f\u5426\u900f\u660e").onChange((function(e){a.needsUpdate=!0})),l.add(a,"depthWrite").name("\u6e32\u67d3\u6b64\u6750\u8d28\u662f\u5426\u5bf9\u6df1\u5ea6\u7f13\u51b2\u533a\u6709\u4efb\u4f55\u5f71\u54cd").onChange((function(e){a.needsUpdate=!0})),l.add(a,"blending",{"THREE.NoBlending":An.ib,"THREE.NormalBlending":An.jb,"THREE.AdditiveBlending":An.b,"THREE.SubtractiveBlending":An.Gb,"THREE.MultiplyBlending":An.eb,"THREE.CustomBlending":An.q}).name("\u6df7\u5408\u6a21\u5f0f").onChange((function(e){a.needsUpdate=!0}));var c=new An.c(16777215,.5);qe.add(c);var s=new An.pb(16711680,1);s.castShadow=!0,s.shadow.radius=20,s.shadow.mapSize.set(512,512),s.decay=0,Xe=new An.e(5),qe.add(Xe),(Ue=new An.nb(75,window.innerWidth/window.innerHeight,.1,1e3)).position.set(0,0,10),Ue.lookAt(qe.position),(He=new An.Sb).shadowMap.enabled=!0,He.physicallyCorrectLights=!0,He.render(qe,Ue),null===(n=e.current)||void 0===n||n.appendChild(He.domElement),We=new zn.a(Ue,He.domElement),t()}(),window.addEventListener("dblclick",i),function(){window.removeEventListener("dblclick",i)}}),[]),Object(gn.useEffect)((function(){(null===n||void 0===n?void 0:n.width)&&(null===n||void 0===n?void 0:n.height)&&function(){var e=Number(null===n||void 0===n?void 0:n.width),t=Number(null===n||void 0===n?void 0:n.height);Ue.aspect=e/t,Ue.updateProjectionMatrix(),He.setSize(e,t),He.setPixelRatio(window.devicePixelRatio)}()}),[null===n||void 0===n?void 0:n.width,null===n||void 0===n?void 0:n.height]),Object(Pn.jsx)("div",{id:"container",style:{width:"100%",height:"100%"},ref:e})},rt=function(){var e=Object(gn.useRef)(null),n=Object(kn.a)(e),t=function(e){for(var n=new An.k,t=1e4,i=new Float32Array(3*t),o=new Float32Array(3*t),a=0;a<3*t;a++)i[a]=100*(Math.random()-.5),o[a]=Math.random();n.setAttribute("position",new An.j(i,3)),n.setAttribute("color",new An.j(o,3));var d=new An.rb;d.size=.5,d.color.set(16773120),d.sizeAttenuation=!0;var r=new An.Kb,l=r.load(e);d.map=l,d.alphaMap=l,d.transparent=!0,d.depthWrite=!1,d.blending=An.b,d.vertexColors=!0;var c=new An.qb(n,d);return c};function i(){var e=Ye.getElapsedTime();Ge.rotation.x=.3*e,Ze.rotation.x=.5*e,Ze.rotation.y=.4*e,Je.rotation.x=.2*e,Je.rotation.y=.2*e,Ke.update(),Ie.render(De,Be),requestAnimationFrame(i)}var o=function(){document.fullscreenElement?document.exitFullscreen():Ie.domElement.requestFullscreen()};return Object(gn.useEffect)((function(){return function(){var n;De=new An.yb,Ge=t("/textures/particles/1.png",1.5),Ze=t("/textures/particles/1.png",1),Je=t("/textures/particles/xh.png",2),De.add(Ge),De.add(Ze),De.add(Je);var o=new An.c(16777215,.5);De.add(o);var a=new An.pb(16711680,1);a.castShadow=!0,a.shadow.radius=20,a.shadow.mapSize.set(512,512),a.decay=0,(Be=new An.nb(75,window.innerWidth/window.innerHeight,.1,1e3)).position.set(0,0,10),Be.lookAt(De.position),(Ie=new An.Sb).shadowMap.enabled=!0,Ie.physicallyCorrectLights=!0,Ie.render(De,Be),null===(n=e.current)||void 0===n||n.appendChild(Ie.domElement),Ke=new zn.a(Be,Ie.domElement),Ye=new An.m,i()}(),window.addEventListener("dblclick",o),function(){window.removeEventListener("dblclick",o)}}),[]),Object(gn.useEffect)((function(){(null===n||void 0===n?void 0:n.width)&&(null===n||void 0===n?void 0:n.height)&&function(){var e=Number(null===n||void 0===n?void 0:n.width),t=Number(null===n||void 0===n?void 0:n.height);Be.aspect=e/t,Be.updateProjectionMatrix(),Ie.setSize(e,t),Ie.setPixelRatio(window.devicePixelRatio)}()}),[null===n||void 0===n?void 0:n.width,null===n||void 0===n?void 0:n.height]),Object(Pn.jsx)("div",{id:"container",style:{width:"100%",height:"100%"},ref:e})},lt={count:1e3,size:.02,radius:5,branch:3,spin:1,randomness:.2,randomnessPower:3,insideColor:"#ff6030",outsideColor:"#1b3984"},ct=function(){var e=Object(gn.useRef)(null),n=Object(kn.a)(e),t=function(){nn&&(tn.dispose(),on.dispose(),Ve.remove(nn)),tn=new An.k;for(var e=new Float32Array(3*lt.count),n=new Float32Array(3*lt.count),t=0;t<lt.count;t++){var i=Math.random()*lt.radius,o=t%lt.branch/lt.branch*Math.PI*2,a=i*lt.spin,d=new An.n(lt.insideColor),r=new An.n(lt.outsideColor),l=d.clone();l.lerp(r,i/lt.radius),n[3*t]=l.r,n[3*t+1]=l.g,n[3*t+2]=l.b;var c=Math.pow(Math.random(),lt.randomnessPower)*(Math.random()<.5?1:-1)*lt.randomness*i,s=Math.pow(Math.random(),lt.randomnessPower)*(Math.random()<.5?1:-1)*lt.randomness*i,u=Math.pow(Math.random(),lt.randomnessPower)*(Math.random()<.5?1:-1)*lt.randomness*i;e[3*t]=Math.cos(o+a)*i+c,e[3*t+1]=s,e[3*t+2]=Math.sin(o+a)*i+u}tn.setAttribute("position",new An.j(e,3)),tn.setAttribute("color",new An.j(n,3)),on=new An.rb({size:lt.size,sizeAttenuation:!0,depthWrite:!1,blending:An.b,vertexColors:!0}),nn=new An.qb(tn,on),Ve.add(nn)};function i(){en.update(),Qe.render(Ve,$e),requestAnimationFrame(i)}var o=function(){document.fullscreenElement?document.exitFullscreen():Qe.domElement.requestFullscreen()};return Object(gn.useEffect)((function(){return function(){var n;Ve=new An.yb,t();var o=new An.c(16777215,.5);Ve.add(o);var a=new An.pb(16711680,1);a.castShadow=!0,a.shadow.radius=20,a.shadow.mapSize.set(512,512),a.decay=0,($e=new An.nb(75,window.innerWidth/window.innerHeight,.1,100)).position.set(4,1.8,4),$e.lookAt(Ve.position),(Qe=new An.Sb).shadowMap.enabled=!0,Qe.physicallyCorrectLights=!0,Qe.render(Ve,$e),null===(n=e.current)||void 0===n||n.appendChild(Qe.domElement),(en=new zn.a($e,Qe.domElement)).enableDamping=!0,en.zoomSpeed=.3;var d=new qn.b;d.add(en,"autoRotate"),d.add(en,"autoRotateSpeed",.1,10,.01),d.add(lt,"count",100,1e5,100).onFinishChange(t),d.add(lt,"size",.001,.1,.001).onFinishChange(t),d.add(lt,"radius",.01,20,.01).onFinishChange(t),d.add(lt,"branch",2,20,1).onFinishChange(t),d.add(lt,"spin",-5,5,.001).onFinishChange(t),d.add(lt,"randomness",0,2,.001).onFinishChange(t),d.add(lt,"randomnessPower",1,10,.001).onFinishChange(t),d.addColor(lt,"insideColor").onFinishChange(t),d.addColor(lt,"outsideColor").onFinishChange(t),d.close(),i()}(),window.addEventListener("dblclick",o),function(){window.removeEventListener("dblclick",o)}}),[]),Object(gn.useEffect)((function(){(null===n||void 0===n?void 0:n.width)&&(null===n||void 0===n?void 0:n.height)&&function(){var e=Number(null===n||void 0===n?void 0:n.width),t=Number(null===n||void 0===n?void 0:n.height);$e.aspect=e/t,$e.updateProjectionMatrix(),Qe.setSize(e,t),Qe.setPixelRatio(window.devicePixelRatio)}()}),[null===n||void 0===n?void 0:n.width,null===n||void 0===n?void 0:n.height]),Object(Pn.jsx)("div",{id:"container",style:{width:"100%",height:"100%"},ref:e})},st=[],ut=function(){var e=Object(gn.useRef)(null),n=Object(kn.a)(e);function t(){ln.update(),dn.render(an,rn),requestAnimationFrame(t)}var i=function(){document.fullscreenElement?document.exitFullscreen():dn.domElement.requestFullscreen()};Object(gn.useEffect)((function(){return function(){var n;an=new An.yb;var i=new An.i(1,1,1);vn=new An.Y({wireframe:!0}),un=new An.Y({color:"#ff0000"});for(var o=0;o<5;o++)for(var a=0;a<5;a++)for(var d=0;d<5;d++){var r=new An.X(i,vn);r.position.set(o,a,d),an.add(r),st.push(r)}cn=new An.wb,sn=new An.Pb;var l=new An.c(16777215,.5);an.add(l);var c=new An.pb(16711680,1);c.castShadow=!0,c.shadow.radius=20,c.shadow.mapSize.set(512,512),c.decay=0,(rn=new An.nb(75,window.innerWidth/window.innerHeight,.1,300)).position.set(0,0,20),rn.lookAt(an.position),(dn=new An.Sb).shadowMap.enabled=!0,dn.physicallyCorrectLights=!0,dn.render(an,rn),null===(n=e.current)||void 0===n||n.appendChild(dn.domElement),ln=new zn.a(rn,dn.domElement),t()}(),window.addEventListener("dblclick",i),function(){window.removeEventListener("dblclick",i)}}),[]);var o=function(e){var t=Number(null===n||void 0===n?void 0:n.width),i=Number(null===n||void 0===n?void 0:n.height);sn.x=e.offsetX/t*2-1,sn.y=-(e.offsetY/i*2-1),cn.setFromCamera(sn,rn);var o=cn.intersectObjects(st);o.forEach((function(e){e.object.material=un})),0===o.length&&st.forEach((function(e){e.material=vn}))};return Object(gn.useEffect)((function(){return(null===n||void 0===n?void 0:n.width)&&(null===n||void 0===n?void 0:n.height)&&function(){var e=Number(null===n||void 0===n?void 0:n.width),t=Number(null===n||void 0===n?void 0:n.height);rn.aspect=e/t,rn.updateProjectionMatrix(),dn.setSize(e,t),dn.setPixelRatio(window.devicePixelRatio)}(),window.addEventListener("click",o),function(){window.removeEventListener("click",o)}}),[null===n||void 0===n?void 0:n.width,null===n||void 0===n?void 0:n.height]),Object(Pn.jsx)("div",{id:"container",style:{width:"100%",height:"100%"},ref:e})},vt=t(66),wt=Sn.a.Title,ht=function(){return Object(Pn.jsx)("div",{style:{padding:"50px"},children:Object(Pn.jsx)(Sn.a,{children:Object(Pn.jsx)(wt,{level:2,children:Object(Pn.jsx)(vt.b,{to:"/pages/scrollFull3d",children:"3d\u5168\u5c4f\u6eda\u52a8"})})})})},mt=t(30),pt=[],ft=[{label:"1. Three.js\u4ecb\u7ecd",key:"1",children:[{label:"1.1 Three.js\u7b80\u4ecb",key:"1-1",path:"/abstract/feature",component:Fn},{label:"1.2 Three.js\u5feb\u901f\u4e0a\u624b",key:"1-2",path:"/abstract/firstTry",component:Rn}]},{label:"2. Three.js\u57fa\u672c\u64cd\u4f5c",key:"2",children:[{label:"2.1 \u64cd\u4f5c\u7269\u4f53",key:"2-1",path:"/basicOpt/objOpt",component:Bn},{label:"2.2 \u57fa\u672c\u52a8\u753b\u64cd\u4f5c",key:"2-2",path:"/basicOpt/animation",component:Kn},{label:"2.3 \u56fe\u5f62\u754c\u9762\u5de5\u5177",key:"2-3",path:"/basicOpt/gui-tool",component:Yn}]},{label:"3. Three.js\u7269\u4f53",key:"3",children:[{label:"3.1 \u81ea\u5b9a\u4e49\u51e0\u4f55\u4f53",key:"3-1",path:"/mesh/customGeometry",component:Gn},{label:"3.2 \u968f\u673a\u70ab\u9177\u51e0\u4f55\u4f53",key:"3-2",path:"/mesh/awesomeGeometry",component:Zn}]},{label:"4. \u6750\u8d28\u4e0e\u7eb9\u7406",key:"4",children:[{label:"4.1 \u52a0\u8f7d\u7eb9\u7406",key:"4-1",path:"/textures/loadTexture",component:Jn},{label:"4.2 \u7eb9\u7406\u53d8\u6362",key:"4-2",path:"/textures/textureTransform",component:Vn},{label:"4.3 \u7eb9\u7406\u663e\u793a\u7b97\u6cd5",key:"4-3",path:"/textures/textureMinMap",component:Qn},{label:"4.4 \u57fa\u7840\u6750\u8d28\u53c2\u6570",key:"4-4",path:"/textures/basicMaterial",component:$n},{label:"4.5 \u6807\u51c6\u6750\u8d28\u53c2\u6570",key:"4-5",path:"/textures/standardMaterial",component:et},{label:"4.6 \u73af\u5883\u8d34\u56fe\u4e0ehdr",key:"4-6",path:"/textures/envhdr",component:tt}]},{label:"5. \u5149\u6e90",key:"5",children:[{label:"5.1 \u5e73\u884c\u5149",key:"5-1",path:"/light/directionalLight",component:it},{label:"5.2 \u805a\u5149\u706f",key:"5-2",path:"/light/spotLight",component:ot},{label:"5.3 \u70b9\u5149\u6e90",key:"5-3",path:"/light/pointLight",component:at}]},{label:"6. \u7c92\u5b50\u7279\u6548",key:"6",children:[{label:"6.1 \u70b9\u6750\u8d28",key:"6-1",path:"/particles/pointsMaterial",component:dt},{label:"6.2 \u81ea\u5b9a\u4e49\u96ea\u82b1\u7c92\u5b50\u7279\u6548",key:"6-2",path:"/particles/customSnow",component:rt},{label:"6.3 \u94f6\u6cb3\u7cfb\u7c92\u5b50\u7279\u6548",key:"6-3",path:"/particles/galaxy",component:ct}]},{label:"7. \u5149\u7ebf\u6295\u5c04",key:"7",children:[{label:"7.1 \u5149\u7ebf\u6295\u5c04",key:"7-1",path:"/raycaster",component:ut}]},{label:"8. 3d\u5168\u5c4f\u6eda\u52a8",key:"8",children:[{label:"8.1 3d\u5168\u5c4f\u6eda\u52a8",key:"8-1",path:"/scrollFull3d",component:ht}]},{label:"9. \u5e94\u7528\u7269\u7406\u5f15\u64ce",key:"9",children:[{label:"9.1 \u4f7f\u7528cannon\u521b\u5efa\u7269\u7406\u4e16\u754c",key:"9-1",path:"/physics/createWorld",component:function(){var e=Object(gn.useRef)(null),n=Object(kn.a)(e);Object(gn.useEffect)((function(){(null===n||void 0===n?void 0:n.width)&&(null===n||void 0===n?void 0:n.height)&&function(){var e=Number(null===n||void 0===n?void 0:n.width),t=Number(null===n||void 0===n?void 0:n.height);hn.aspect=e/t,hn.updateProjectionMatrix(),wn.setSize(e,t),wn.setPixelRatio(window.devicePixelRatio)}()}),[null===n||void 0===n?void 0:n.width,null===n||void 0===n?void 0:n.height]);var t=function(){document.fullscreenElement?document.exitFullscreen():wn.domElement.requestFullscreen()};return Object(gn.useEffect)((function(){return function(){var n,t=new An.yb,i=new An.c(16777215,.5);t.add(i);var o=new An.t(16777215,1);o.castShadow=!0,t.add(o);var a=new An.Db(1,20,20),d=new An.bb,r=new An.X(a,d);r.castShadow=!0,t.add(r);var l=new An.X(new An.ob(20,20),new An.bb);l.position.set(0,-5,0),l.rotation.x=-Math.PI/2,l.receiveShadow=!0,t.add(l);var c=new mt.g;c.gravity.set(0,-9.8,0);var s=new mt.e(1),u=new mt.c,v=new mt.a({shape:s,material:u,mass:1,position:new mt.f(0,0,0)});c.addBody(v);var w=new mt.d,h=new mt.a;h.mass=0,h.addShape(w),h.position.set(0,-5,0),h.quaternion.setFromAxisAngle(new mt.f(1,0,0),-Math.PI/2),c.addBody(h),(hn=new An.nb(75,window.innerWidth/window.innerHeight,.1,300)).position.set(0,0,18),hn.lookAt(t.position),(wn=new An.Sb).shadowMap.enabled=!0,wn.physicallyCorrectLights=!0,wn.render(t,hn),null===(n=e.current)||void 0===n||n.appendChild(wn.domElement);var m=new zn.a(hn,wn.domElement),p=new An.m;!function e(){var n=p.getDelta();c.step(1/120,n),r.position.copy(v.position),m.update(),wn.render(t,hn),requestAnimationFrame(e)}()}(),window.addEventListener("dblclick",t),function(){window.removeEventListener("dblclick",t)}}),[]),Object(Pn.jsx)("div",{id:"container",style:{width:"100%",height:"100%"},ref:e})}},{label:"9.2 \u6a21\u62df\u7269\u7406\u4e16\u754c\u7684\u76f8\u4e92\u4f5c\u7528\u529b",key:"9-2",path:"/physics/applyForce",component:function(){var e=Object(gn.useRef)(null),n=Object(kn.a)(e);Object(gn.useEffect)((function(){(null===n||void 0===n?void 0:n.width)&&(null===n||void 0===n?void 0:n.height)&&function(){var e=Number(null===n||void 0===n?void 0:n.width),t=Number(null===n||void 0===n?void 0:n.height);pn.aspect=e/t,pn.updateProjectionMatrix(),mn.setSize(e,t),mn.setPixelRatio(window.devicePixelRatio)}()}),[null===n||void 0===n?void 0:n.width,null===n||void 0===n?void 0:n.height]);var t=function(){document.fullscreenElement?document.exitFullscreen():mn.domElement.requestFullscreen()};return Object(gn.useEffect)((function(){return function(){var n,t=new An.yb,i=new An.c(16777215,.5);t.add(i);var o=new An.t(16777215,1);o.castShadow=!0,t.add(o);var a=new mt.g;a.gravity.set(0,-9.8,0);var d=new Audio("/audio/metal_hit.mp3"),r=new mt.c("sphere");window.addEventListener("click",(function(){var e=new An.i(1,1,1),n=new An.bb,i=new An.X(e,n);i.castShadow=!0,t.add(i);var o=new mt.e(1),l=new mt.a({shape:o,material:r,mass:1,position:new mt.f(0,0,0)});l.applyLocalForce(new mt.f(300,0,0),new mt.f(0,0,0)),a.addBody(l),l.addEventListener("collide",(function(e){var n=e.contact.getImpactVelocityAlongNormal();console.log(n),n>2&&(d.currentTime=0,d.volume=n/12,d.play())})),pt.push({mesh:i,body:l})}));var l=new An.X(new An.ob(100,100),new An.bb);l.position.set(0,-5,0),l.rotation.x=-Math.PI/2,l.receiveShadow=!0,t.add(l);var c=new mt.d,s=new mt.a,u=new mt.c("floor");s.material=u,s.mass=0,s.addShape(c),s.position.set(0,-5,0),s.quaternion.setFromAxisAngle(new mt.f(1,0,0),-Math.PI/2),a.addBody(s);var v=new mt.b(r,u,{friction:.1,restitution:.7});a.addContactMaterial(v),a.defaultContactMaterial=v,(pn=new An.nb(75,window.innerWidth/window.innerHeight,.1,300)).position.set(0,0,18),pn.lookAt(t.position),(mn=new An.Sb).shadowMap.enabled=!0,mn.physicallyCorrectLights=!0,mn.render(t,pn),null===(n=e.current)||void 0===n||n.appendChild(mn.domElement);var w=new zn.a(pn,mn.domElement),h=new An.m;!function e(){var n=h.getDelta();a.step(1/120,n),pt.forEach((function(e){e.mesh.position.copy(e.body.position),e.mesh.quaternion.copy(e.body.quaternion)})),w.update(),mn.render(t,pn),requestAnimationFrame(e)}()}(),window.addEventListener("dblclick",t),function(){window.removeEventListener("dblclick",t)}}),[]),Object(Pn.jsx)("div",{id:"container",style:{width:"100%",height:"100%"},ref:e})}}]},{label:"10. webgl\u539f\u7406",key:"10",children:[{label:"10.1 \u4f7f\u7528webgl\u7ed8\u5236\u56fe\u5f62",key:"10-1",path:"/webgl/drawTriangle",component:Ln},{label:"10.2 \u4f7f\u7528webgl\u7ed8\u5236\u52a8\u753b",key:"10-2",path:"/webgl/animate",component:Tn}]},{label:"11. \u7740\u8272\u5668\u7f16\u7a0b\uff1a\u5165\u95e8",key:"11",children:[{label:"11.1 \u7740\u8272\u5668\u6750\u8d28",key:"11-1",path:"/webglBasic/shaderMaterial",component:Nn},{label:"11.2 \u539f\u59cb\u7740\u8272\u5668\u6750\u8d28",key:"11-2",path:"/webglBasic/rawShaderMaterial",component:_n}]},{label:"12. \u7740\u8272\u5668\u7f16\u7a0b\uff1a\u8fdb\u9636",key:"12",children:[{label:"12.1 \u7740\u8272\u5668\u7f16\u5199\u56fe\u6848",key:"12-1",path:"/webglAdvance/basicGraph",component:Un},{label:"12.2 \u7740\u8272\u5668\u7f16\u5199\u98de\u789f",key:"12-2",path:"/webglAdvance/skyLanterns",component:In}]}],bt=t(18),gt=t(99),xt=function(){var e=Object(gt.a)({selectedKeys:[],openKeys:[],title:""}),n=Object(En.a)(e,2),t=n[0],i=n[1],o=Object(bt.g)().pathname;return Object(gn.useEffect)((function(){ft.forEach((function(e){e.children.forEach((function(n){n.path===o&&i((function(t){t.openKeys=[e.key],t.selectedKeys=[n.key],t.title=n.label}))}))}))}),[o]),{selectedKeys:t.selectedKeys,openKeys:t.openKeys,title:t.title}},jt=Cn.a.SubMenu,yt=function(){var e=xt().selectedKeys;return Object(Pn.jsx)(Cn.a,{style:{width:"100%",height:"100%"},selectedKeys:e,mode:"inline",children:ft.map((function(e){return Object(Pn.jsx)(jt,{title:e.label,children:e.children.map((function(e){return Object(Pn.jsx)(Cn.a.Item,{onClick:function(){return n=e.path,window.location.href="http://".concat(window.location.host,"/#").concat(n),void window.location.reload();var n},children:e.label},e.key)}))},e.key)}))})},Et=function(){var e=xt().title;return Object(Pn.jsx)("div",{style:{marginLeft:25},children:Object(Pn.jsx)("h1",{style:{color:"#fff"},children:e})})},Ot=(t(113),{x:0,y:0}),Ct=0,St=[],Pt={materialColor:"#FFF59D"},Mt=5,Ft=0,kt=window.innerWidth<window.innerHeight,At=[{label:"3d\u5168\u5c4f\u6eda\u52a8",key:"pages-1",path:"/pages/scrollFull3d",component:function(){var e=function(){var e=window.innerWidth,n=window.innerHeight;bn.aspect=e/n,bn.updateProjectionMatrix(),fn.setSize(e,n),fn.setPixelRatio(window.devicePixelRatio)},n=function(e){var n=window.innerWidth,t=window.innerHeight;Ot.x=e.clientX/n*2-1,Ot.y=-(e.clientY/t*2-1)},t=function(){var e=window,n=e.scrollY,t=e.innerHeight,i=Math.round(n/t);Ft!==i&&(Ft=i,console.log("changed",Ft),Dn.a.to(St[Ft].rotation,{duration:1.5,ease:"power2.inOut",x:"+=6",y:"+=3"}))};return Object(gn.useEffect)((function(){return function(){var e=document.querySelector("#mainCanvas"),n=new An.yb,t=new An.A;n.add(t);var i={width:window.innerWidth,height:window.innerHeight};(bn=new An.nb(75,i.width/i.height,.1,100)).position.set(0,0,4),t.add(bn),kt&&(bn.position.setZ(8),Mt=11);var o=(new An.Kb).load("https://gw.alicdn.com/imgextra/i1/O1CN01Kv3xWT1kImpSDZI8n_!!6000000004661-0-tps-5-1.jpg");o.magFilter=An.fb;var a=new An.cb({color:Pt.materialColor,gradientMap:o}),d=new An.X(new An.Lb(1,.4,16,60),a),r=new An.X(new An.o(1,2,32),a),l=new An.X(new An.Mb(.8,.35,100,16),a);n.add(d,r,l),d.position.y=0*-Mt,r.position.y=1*-Mt,l.position.y=2*-Mt,St=[d,r,l];for(var c=new Float32Array(600),s=0;s<200;s++)c[3*s+0]=10*(Math.random()-.5),c[3*s+1]=.5*Mt-Math.random()*Mt*St.length,c[3*s+2]=10*(Math.random()-.5);var u=new An.k;u.setAttribute("position",new An.j(c,3));var v=new An.rb({color:Pt.materialColor,sizeAttenuation:!0,size:.03}),w=new An.qb(u,v);n.add(w),St.forEach((function(e,n){kt||e.position.setX(n%2===0?2:-2),e.position.setY(-Mt*n)}));var h=new An.t;h.position.set(1,1,0);var m=new An.c(new An.n("#ffffff"),.28);n.add(m,h),(fn=new An.Sb({canvas:e,antialias:!0,alpha:!0})).setSize(i.width,i.height),fn.setPixelRatio(Math.min(window.devicePixelRatio,2));var p=new An.m;!function e(){var i=p.getElapsedTime(),o=i-Ct;Ct=i,St.forEach((function(e,n){e.rotation.set(.1*o+e.rotation.x,.1*o+e.rotation.y,0)}));var a=window.scrollY,d=window.innerHeight;if(bn.position.setY(-a/d*Mt),Ot.x&&Ot.y){var r=.5*Ot.x,l=.5*Ot.y;t.position.x+=5*(r-t.position.x)*o,t.position.y+=5*(l-t.position.y)*o}fn.render(n,bn),requestAnimationFrame(e)}(),(new qn.a).addColor(Pt,"materialColor").onChange((function(){a.color.set(Pt.materialColor),v.color.set(Pt.materialColor)}))}(),window.addEventListener("resize",e),window.addEventListener("mousemove",n),window.addEventListener("scroll",t),function(){window.removeEventListener("resize",e),window.removeEventListener("mousemove",n),window.removeEventListener("scroll",t)}}),[]),Object(Pn.jsxs)("div",{className:"scroll3d",children:[Object(Pn.jsx)("canvas",{id:"mainCanvas",className:"webgl"}),Object(Pn.jsx)("section",{className:"section",children:Object(Pn.jsx)("h1",{children:"Hello"})}),Object(Pn.jsx)("section",{className:"section",children:Object(Pn.jsx)("h2",{children:"My projects"})}),Object(Pn.jsx)("section",{className:"section",children:Object(Pn.jsx)("h2",{children:"Contact me"})})]})}},{label:"3d\u5168\u5c4f\u6eda\u52a82",key:"pages-2",path:"/pages/scrollFull3d2",component:"12"}],Rt=On.a.Sider,Lt=On.a.Header,Tt=On.a.Content;var zt=function(){var e=Object(gn.useState)(!1),n=Object(En.a)(e,2),t=n[0],i=n[1];return Object(bt.g)().pathname.includes("/pages")?Object(Pn.jsx)("div",{children:Object(Pn.jsx)(bt.d,{children:At.map((function(e){return Object(Pn.jsx)(bt.b,{path:e.path,element:Object(Pn.jsx)(e.component,{})})}))})}):Object(Pn.jsx)("div",{className:"App",children:Object(Pn.jsxs)(On.a,{style:{height:"100%"},children:[Object(Pn.jsx)(Rt,{width:256,collapsible:!0,collapsed:t,onCollapse:function(){i(!t)},children:Object(Pn.jsx)(yt,{})}),Object(Pn.jsxs)(On.a,{children:[Object(Pn.jsx)(Lt,{children:Object(Pn.jsx)(Et,{})}),Object(Pn.jsx)(Tt,{children:Object(Pn.jsxs)(bt.d,{children:[ft.map((function(e){return e.children?e.children.map((function(e){return Object(Pn.jsx)(bt.b,{path:e.path,element:Object(Pn.jsx)(e.component,{})})})):null})),Object(Pn.jsx)(bt.a,{to:"/abstract/feature"})]})})]})]})})},Nt=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,121)).then((function(n){var t=n.getCLS,i=n.getFID,o=n.getFCP,a=n.getLCP,d=n.getTTFB;t(e),i(e),o(e),a(e),d(e)}))};t(114);yn.a.render(Object(Pn.jsx)(xn.a.StrictMode,{children:Object(Pn.jsx)(vt.a,{children:Object(Pn.jsx)(zt,{})})}),document.getElementById("root")),Nt()}},[[115,1,2]]]);
//# sourceMappingURL=main.6a60d298.chunk.js.map